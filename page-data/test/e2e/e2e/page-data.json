{"componentChunkName":"component---src-templates-post-template-tsx","path":"/test/e2e/e2e/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>QA팀이 너무 바쁘다고 하여 팀에서 수기로 웹 테스트를 진행하게 되었다. (팀원들 전부와 함께…)\n아무리 생각해도 테스트 시나리오도 있는데 하나하나 수기를 하는게 너무 비효울적인 것 같아서 e2e 테스트를 진행하게 되었다.</p>\n<h2>1. e2e 테스트란?</h2>\n<h2>2. Why playwright?</h2>\n<p>e2e 테스트를 한다고 했을때 가장 먼저 고려 했던 부분은 cypress vs playwright 이었던것 같다.\n왜냐하면 javascript언어를 사용하고 있었었다는 이유가 가장 큰 부분인거 같다.\n![](../../../../../../../var/folders/gy/_bplr4dd705bzbqlfy9tvv9w0000gn/T/TemporaryItems/NSIRD_screencaptureui_N5D7ta/스크린샷 2022-07-08 오후 8.03.35.png)\n비교해봤을때 playwright가 더 지원하는 프레임워크도 많고 자유도가 높아 보여 해서 playwright를 사용하기로 했다.</p>\n<h2>3. example</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i -D @playwright/test\n# install supported browsers\nnpx playwright install</code></pre></div>\n<p>이렇게 설치하고 <strong>tests</strong> 라는 폴더를 만들어 주었고 거기에 example.spec.js 파일을 만들어 주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> test<span class=\"token punctuation\">,</span> expect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@playwright/test'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'basic test'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> page <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://playwright.dev/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">locator</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.navbar__inner .navbar__title'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Playwright'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 코드를 보게 되면 goto로 웹페이로 이동하고 locator는 document.querySelector와 같은 기능을 한다.\n그리고 마지막에 결과같이 기대값과 같은지 확인하면 된다.\n위와 같이 입력한 후 <strong>npx playwright test</strong>를 터미널에 입력하게 되면 tests 폴더 안에 있는 파일을 테스트 하게 된다.</p>\n<h2>4. 후기</h2>\n<p>하.. 생각보다 locator에서 애먹었다. 왜냐하면 id값을 따로 사용하지 않고 class를 주로 사용했기 때문에 제대로 element를 가져오기가 어려웠다.\n그리고 인스타그램 홈페이지만 까봐도 class명이 평범하지 않았다 그리고 그런 유명한 페이지 같은 경우는 많은 사람들의 크롤링 대상자이기 때문에 주기적으로 class 이름을 바꾸는 것으로 알고 있다.\n(크롤링을 허용하게 되면 IO가 미친듯이 많아지겠지?) 옆에서 같이 일하시는 선임도 e2e는 귀찮아도 사람이 해야한다고 했다.\n이래서 QA팀이 있나 싶나란 생각이 들었다.</p>\n<hr>\n<h2>Source</h2>\n<ul>\n<li>\n<p>cypress vs playwright</p>\n<p>[<a href=\"https://www.browserstack.com/guide/playwright-vs-cypress\" target=\"_blank\" rel=\"nofollow\">https://www.browserstack.com/guide/playwright-vs-cypress</a>]</p>\n</li>\n<li>\n<p>playwright.</p>\n<p>[<a href=\"https://playwright.dev/\" target=\"_blank\" rel=\"nofollow\">https://playwright.dev/</a>)</p>\n</li>\n</ul>","frontmatter":{"title":"e2e 테스트","summary":"e2e test...","date":"2022.07.05.","categories":["test","frontend","playwright","e2e"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcEBQgJ/8QAFgEBAQEAAAAAAAAAAAAAAAAABwQF/9oADAMBAAIQAxAAAAHp+ot11ZbiRxgiFb//xAAaEAACAwEBAAAAAAAAAAAAAAADBQIEBgEH/9oACAEBAAEFAnOtb0nrr0RuN5k2HGCM6FLaKHK5qrOAhxj/AP/EAB8RAAICAgIDAQAAAAAAAAAAAAMEAQIFEwYSABEVMv/aAAgBAwEBPwHj+JMlj+bqZzIM5E/IAs1wTG1o/wAQpWWzK3FsZWKnVQZlhxGPMPddYcn2qbUWMeudRFNUx4ZKssABGJgkSewh1pJbQQpb9idZtbsS8+5/U+f/xAAeEQACAgIDAQEAAAAAAAAAAAACAwEEBRIGERMAMf/aAAgBAgEBPwG1xflTIuBHI3QFzLNswc5LK716k23vTUQoCWtYrSa6xDBeTAVM6QRLJGPRaq0adZzgsNr1UJY+fWJcSliEtnc2HsfWxbMKe5/fv//EACYQAAICAAUDBAMAAAAAAAAAAAECAwQABREhIhITFBUxMkFRcpH/2gAIAQEABj8CuUvUKlWnBdijHdkyiqUgYQF98wkD2CA7E9obfElWK49OTP8AK0iWawjvRHj0NpCqRJmU9e7YtPXQL5E8NXx/Jc1YjK/UYKlhryXpSZkmnExlHcWZ+IkerSdgq9OnVXT8chyLz2cqoTzP85JqsMjtoNOTMpJ223wJK+Q5VFIp1Vlo19V/Xht77ae31gKsaKB9KigfwDH/xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMUFxgf/aAAgBAQABPyE3KEVq3do0KRLTSeKswtWPIRzL2DFhFkUUsKCRNeeHEE4ZBo4ByU1JOJvk82pQvgnDHxH6AHwn/9oADAMBAAIAAwAAABBs3//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxAqgblWkcZpksBTRRb+ElL3Wi7/xAAXEQEBAQEAAAAAAAAAAAAAAAABESEA/9oACAECAQE/ENADHLZ8VbT1AjEFB3tpdiZXc//EABYQAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAQABPxBWlvwuXrhZWTdzzMwssKMuDc/Cz/bIlVwGNA1VcFYo5ZYoAucxE6hYC4+5qXKkOUYB2AAAIBv/2Q=="},"images":{"fallback":{"src":"/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg","srcSet":"/static/10c6466f9e038df5c90ecc1299992dcc/2c782/e2e.jpg 74w,\n/static/10c6466f9e038df5c90ecc1299992dcc/ce000/e2e.jpg 149w,\n/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg 297w","sizes":"(min-width: 297px) 297px, 100vw"},"sources":[{"srcSet":"/static/10c6466f9e038df5c90ecc1299992dcc/562d9/e2e.webp 74w,\n/static/10c6466f9e038df5c90ecc1299992dcc/31914/e2e.webp 149w,\n/static/10c6466f9e038df5c90ecc1299992dcc/afc08/e2e.webp 297w","type":"image/webp","sizes":"(min-width: 297px) 297px, 100vw"}]},"width":297,"height":170}},"publicURL":"/static/10c6466f9e038df5c90ecc1299992dcc/e2e.jpeg"}}}}]}},"pageContext":{"slug":"/test/e2e/e2e/"}},"staticQueryHashes":[]}