<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="naver-site-verification" content="e3880b2db6dd55e0089dc138f60e7c6038ce97b7"/><meta data-react-helmet="true" name="google-site-verification" content="1wuhW8oZrNSKb4OfyOS9bJOVn7xFVz7me0RLq1CzaOk"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:image" content="/static/10c6466f9e038df5c90ecc1299992dcc/e2e.jpeg"/><meta data-react-helmet="true" name="twitter:description" content="e2e test..."/><meta data-react-helmet="true" name="twitter:title" content="e2e 테스트"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:site_name" content="e2e 테스트"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:image" content="/static/10c6466f9e038df5c90ecc1299992dcc/e2e.jpeg"/><meta data-react-helmet="true" property="og:description" content="e2e test..."/><meta data-react-helmet="true" property="og:title" content="e2e 테스트"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" name="description" content="e2e test..."/><meta name="generator" content="Gatsby 4.17.0"/><style data-href="/styles.811b76fa2f764e4356d7.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title data-react-helmet="true">e2e 테스트</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://bill1907/Bill1907.github.io/test/e2e/e2e/" data-baseprotocol="https:" data-basehost="bill1907"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css zyllbl">.css-zyllbl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100vh;}</style><main class="css-zyllbl e1strnqo0"><style data-emotion="css-global 2x9jg6">@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Gothic',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 4h86xo">.css-4h86xo{z-index:-1;width:100%;height:300px;object-fit:cover;-webkit-filter:brightness(0.5);filter:brightness(0.5);}@media (max-width: 768px){.css-4h86xo{height:200px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-4h86xo e1opi4mu0"><div style="max-width:297px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;170&#x27; width=&#x27;297&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcEBQgJ/8QAFgEBAQEAAAAAAAAAAAAAAAAABwQF/9oADAMBAAIQAxAAAAHp+ot11ZbiRxgiFb//xAAaEAACAwEBAAAAAAAAAAAAAAADBQIEBgEH/9oACAEBAAEFAnOtb0nrr0RuN5k2HGCM6FLaKHK5qrOAhxj/AP/EAB8RAAICAgIDAQAAAAAAAAAAAAMEAQIFEwYSABEVMv/aAAgBAwEBPwHj+JMlj+bqZzIM5E/IAs1wTG1o/wAQpWWzK3FsZWKnVQZlhxGPMPddYcn2qbUWMeudRFNUx4ZKssABGJgkSewh1pJbQQpb9idZtbsS8+5/U+f/xAAeEQACAgIDAQEAAAAAAAAAAAACAwEEBRIGERMAMf/aAAgBAgEBPwG1xflTIuBHI3QFzLNswc5LK716k23vTUQoCWtYrSa6xDBeTAVM6QRLJGPRaq0adZzgsNr1UJY+fWJcSliEtnc2HsfWxbMKe5/fv//EACYQAAICAAUDBAMAAAAAAAAAAAECAwQABREhIhITFBUxMkFRcpH/2gAIAQEABj8CuUvUKlWnBdijHdkyiqUgYQF98wkD2CA7E9obfElWK49OTP8AK0iWawjvRHj0NpCqRJmU9e7YtPXQL5E8NXx/Jc1YjK/UYKlhryXpSZkmnExlHcWZ+IkerSdgq9OnVXT8chyLz2cqoTzP85JqsMjtoNOTMpJ223wJK+Q5VFIp1Vlo19V/Xht77ae31gKsaKB9KigfwDH/xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMUFxgf/aAAgBAQABPyE3KEVq3do0KRLTSeKswtWPIRzL2DFhFkUUsKCRNeeHEE4ZBo4ByU1JOJvk82pQvgnDHxH6AHwn/9oADAMBAAIAAwAAABBs3//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxAqgblWkcZpksBTRRb+ElL3Wi7/xAAXEQEBAQEAAAAAAAAAAAAAAAABESEA/9oACAECAQE/ENADHLZ8VbT1AjEFB3tpdiZXc//EABYQAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAQABPxBWlvwuXrhZWTdzzMwssKMuDc/Cz/bIlVwGNA1VcFYo5ZYoAucxE6hYC4+5qXKkOUYB2AAAIBv/2Q==" alt=""/><picture><source type="image/webp" data-srcset="/static/10c6466f9e038df5c90ecc1299992dcc/562d9/e2e.webp 74w,/static/10c6466f9e038df5c90ecc1299992dcc/31914/e2e.webp 149w,/static/10c6466f9e038df5c90ecc1299992dcc/afc08/e2e.webp 297w" sizes="(min-width: 297px) 297px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 297px) 297px, 100vw" decoding="async" loading="lazy" data-src="/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg" data-srcset="/static/10c6466f9e038df5c90ecc1299992dcc/2c782/e2e.jpg 74w,/static/10c6466f9e038df5c90ecc1299992dcc/ce000/e2e.jpg 149w,/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg 297w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/10c6466f9e038df5c90ecc1299992dcc/562d9/e2e.webp 74w,/static/10c6466f9e038df5c90ecc1299992dcc/31914/e2e.webp 149w,/static/10c6466f9e038df5c90ecc1299992dcc/afc08/e2e.webp 297w" sizes="(min-width: 297px) 297px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 297px) 297px, 100vw" decoding="async" loading="lazy" src="/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg" srcSet="/static/10c6466f9e038df5c90ecc1299992dcc/2c782/e2e.jpg 74w,/static/10c6466f9e038df5c90ecc1299992dcc/ce000/e2e.jpg 149w,/static/10c6466f9e038df5c90ecc1299992dcc/df316/e2e.jpg 297w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau1"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><div class="css-gywgo7 e1st1jau0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"></path></svg></div><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau3">e2e 테스트</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau2"><div>test / frontend / playwright / e2e</div><div>2022.07.05.</div></div></div></div><style data-emotion="css uo146q">.css-uo146q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-uo146q p{padding:3px 0;}.css-uo146q h1,.css-uo146q h2,.css-uo146q h3{font-weight:800;margin-bottom:30px;}.css-uo146q *+h1,.css-uo146q *+h2,.css-uo146q *+h3{margin-top:80px;}.css-uo146q hr+h1,.css-uo146q hr+h2,.css-uo146q hr+h3{margin-top:0;}.css-uo146q h1{font-size:30px;}.css-uo146q h2{font-size:25px;}.css-uo146q h3{font-size:20px;}.css-uo146q blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-uo146q ol,.css-uo146q ul{margin-left:20px;padding:30px 0;}.css-uo146q hr{border:1px solid #000000;margin:100px 0;}.css-uo146q a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-uo146q pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-uo146q pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-uo146q code[class*='language-'],.css-uo146q pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-uo146q{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-uo146q h1{font-size:23px;}.css-uo146q h2{font-size:20px;}.css-uo146q h3{font-size:17px;}.css-uo146q img{width:100%;}.css-uo146q hr{margin:50px 0;}}</style><div class="css-uo146q e1ijh0y10"><p>QA팀이 너무 바쁘다고 하여 팀에서 수기로 웹 테스트를 진행하게 되었다. (팀원들 전부와 함께…)
아무리 생각해도 테스트 시나리오도 있는데 하나하나 수기를 하는게 너무 비효울적인 것 같아서 e2e 테스트를 진행하게 되었다.</p>
<h2>1. e2e 테스트란?</h2>
<h2>2. Why playwright?</h2>
<p>e2e 테스트를 한다고 했을때 가장 먼저 고려 했던 부분은 cypress vs playwright 이었던것 같다.
왜냐하면 javascript언어를 사용하고 있었었다는 이유가 가장 큰 부분인거 같다.
![](../../../../../../../var/folders/gy/_bplr4dd705bzbqlfy9tvv9w0000gn/T/TemporaryItems/NSIRD_screencaptureui_N5D7ta/스크린샷 2022-07-08 오후 8.03.35.png)
비교해봤을때 playwright가 더 지원하는 프레임워크도 많고 자유도가 높아 보여 해서 playwright를 사용하기로 했다.</p>
<h2>3. example</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -D @playwright/test
# install supported browsers
npx playwright install</code></pre></div>
<p>이렇게 설치하고 <strong>tests</strong> 라는 폴더를 만들어 주었고 거기에 example.spec.js 파일을 만들어 주었다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@playwright/test'</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'basic test'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://playwright.dev/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> title <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'.navbar__inner .navbar__title'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'Playwright'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>이 코드를 보게 되면 goto로 웹페이로 이동하고 locator는 document.querySelector와 같은 기능을 한다.
그리고 마지막에 결과같이 기대값과 같은지 확인하면 된다.
위와 같이 입력한 후 <strong>npx playwright test</strong>를 터미널에 입력하게 되면 tests 폴더 안에 있는 파일을 테스트 하게 된다.</p>
<h2>4. 후기</h2>
<p>하.. 생각보다 locator에서 애먹었다. 왜냐하면 id값을 따로 사용하지 않고 class를 주로 사용했기 때문에 제대로 element를 가져오기가 어려웠다.
그리고 인스타그램 홈페이지만 까봐도 class명이 평범하지 않았다 그리고 그런 유명한 페이지 같은 경우는 많은 사람들의 크롤링 대상자이기 때문에 주기적으로 class 이름을 바꾸는 것으로 알고 있다.
(크롤링을 허용하게 되면 IO가 미친듯이 많아지겠지?) 옆에서 같이 일하시는 선임도 e2e는 귀찮아도 사람이 해야한다고 했다.
이래서 QA팀이 있나 싶나란 생각이 들었다.</p>
<hr>
<h2>Source</h2>
<ul>
<li>
<p>cypress vs playwright</p>
<p>[<a href="https://www.browserstack.com/guide/playwright-vs-cypress" target="_blank" rel="nofollow">https://www.browserstack.com/guide/playwright-vs-cypress</a>]</p>
</li>
<li>
<p>playwright.</p>
<p>[<a href="https://playwright.dev/" target="_blank" rel="nofollow">https://playwright.dev/</a>)</p>
</li>
</ul></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<!-- --><br/>© 2022 Developer Bill, Powered By Gatsby.<!-- --></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/test/e2e/e2e/";window.___webpackCompilationHash="67f93c03d169bb04df71";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4718f0fec20e0d09d7f5.js"],"app":["/app-349dac447b377d80e606.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-cdc673075f87e20dd535.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-e4c4d5d2c25b389ab9a8.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-104dcfeafc154b0d1594.js"]};/*]]>*/</script><script src="/polyfill-4718f0fec20e0d09d7f5.js" nomodule=""></script><script src="/app-349dac447b377d80e606.js" async=""></script><script src="/framework-76c8a3fb7ea2f02f21d3.js" async=""></script><script src="/webpack-runtime-a3d9989f6848ae337ac8.js" async=""></script></body></html>